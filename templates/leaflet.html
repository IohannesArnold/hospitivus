<div id="map"></div>
<script>
  import { map } from 'leaflet';

  export default {
    oncreate() {
      const sidemap = map('map', {
                                zoomControl: false,
                                center: [41.88987, 12.49071],
                                zoom: 14
                               });
      if ('geolocation' in navigator) {
        navigator.geolocation.getCurrentPosition((pos) => {
          sidemap.setView([pos.coords.latitude, pos.coords.longitude], 12);
        });
      }
      L.tileLayer(
        'https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg', {
          attribution: 'Charta &copy; ' +
                       '<a href="http://stamen.com">Stamen Design</a>, ' +
                       'Data &copy; ' +
                       '<a href="http://openstreetmap.org">OpenStreetMap</a> ' +
                       'Participes',
          maxZoom: 18,
          minZoom: 3,
          zIndex: -1
      }).addTo(sidemap);
    }
  };
</script>
