<div id="sidebar">
  <header class="mdc-toolbar">
    <div class="mdc-toolbar__row">
      <section class="mdc-toolbar__section mdc-toolbar__section--align-start
                      mdc-toolbar__section--shrink-to-fit">
        <button class="mdc-toolbar__icon">
          <LeftToolbarIcon bind:showSettings bind:showSecondaryMenu />
        </button>
      </section>
      <section class="mdc-toolbar__section">
        <span class="mdc-toolbar__title">
          <!--{{#if showSecondaryMenu && focusedUser}}
            {{focusedUser.firstName+' '+focusedUser.lastName}}-->
          {{#if showSettings}}
            Ordo
          {{else}}
            Index Colloquiorum
          {{/if}}
        </span>
      </section>
      <section class="mdc-toolbar__section mdc-toolbar__section--align-end
                          mdc-toolbar__section--shrink-to-fit">
        <button on:click='fire("signOut")' class="mdc-toolbar__icon">
          <svg fill="#FFFFFF" height="24"
               viewBox="0 0 24 24" width="24"
               xmlns="http://www.w3.org/2000/svg">
              <path d="M0 0h24v24H0z" fill="none"/>
              <path d="M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
          </svg>
        </button>
      </section>
    </div>
  </header>
  <section id='primary-menu' style="transform: {{primaryMenuStyle}};">
    {{#if showSettings}}
    <!--<Settings bind:user bind:listenClick bind:chromeA2HS />-->
    <!--{{else}}
    <ConvoList bind:user bind:allUsers bind:focusedUser bind:showConvo/>-->
    {{/if}}
  </section>
  <section id="secondary-menu" style="transform: {{secondaryMenuStyle}};">
    <!--{{#if focusedUser}}
    <Messages bind:user bind:focusedUser
              on:sendMessage="fire('postData', event)"
              on:saveData="fire('saveData', event)"/>
    {{/if}}-->
  </section>
</div>
<script>
  import Settings from './settings.html';
  import LeftToolbarIcon from './left-toolbar-icon.svg';

  export default {
    data () {
      return {
        showSettings: false,
        showSecondaryMenu: false,
      };
    },
    computed: {
      primaryMenuStyle: showSecondaryMenu => {
        if (!showSecondaryMenu){
          return 'translateX(0)';
        } else {
          return 'translateX(-100%)';;
        }
      },
      secondaryMenuStyle: showSecondaryMenu => {
        if (!showSecondaryMenu){
          return 'transform: translate(100%, -100%)';
        } else {
          return 'translate(0, -100%)';
        }
      },
    },
    components: {
      Settings,
      LeftToolbarIcon
    }
  }
</script>
